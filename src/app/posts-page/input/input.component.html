<form class="form" [formGroup]="form" (submit)="onSavePost()">
  <mat-label *ngIf="!user" class="login-info">Please log in to add a post!</mat-label>
  <mat-form-field class="full-width">
    <mat-label>Tell us how you feel!</mat-label>
    <textarea
      class="textarea"
      maxlength="400"
      matInput
      rows="4"
      formControlName="content"
      placeholder="Ex. It makes me feel...">
    </textarea>
    <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
      <hr>
      <div class="preview-desc">
        <img [src]="imagePreview" [alt]="form.value.title">
        <div class="image-name">{{form?.value.image.name}}</div>
      </div>
    </div>
  </mat-form-field>
  <div class="button-group" *ngIf="user">
    <button type="button" class="post-button" mat-raised-button (click)="filePicker.click()">Add Image</button>
    <input type="file" #filePicker (change)="onImagePicked($event)"> 
    <button type="submit" class="post-button" mat-raised-button [disabled]="!(form.value.content)" >Add post!</button>
    <button type="button" class="post-button" mat-raised-button (click)="resetForm()">Cancel</button>
  </div>
</form>

   


